---
layout: post
---

[GitHub Source](https://github.com/glouw/weaver)

[Download weaver-1.3.zip (Windows 32/64 bit)](https://github.com/glouw/weaver/releases/download/weaver-1.3/weaver-1.3.zip)

I recently finished one of my side projects I call Weaver.

![The White Wolf](/images/wv/geralt.png)

Weaver generates a spider tapestry with a two fold algorithm. The initial phase
processes the image: The image is blurred with a Gaussian convolution blur,
grey scaled, and then sobel filtered. A threshold is then applied to identify
edges with a binary true or false. These points are pushed into list.

The latter phase makes use of Delaunay Triangulation:
A point from the list may freely be placed in a triangle mesh given that all triangles
do not contain the point within in their circumcenters. Fortunately this will
never be the case as the window is engulfed with a super-triangle.

![One triangle engulfs the entire window on the outside](/images/wv/1tri.png)

Given that the point does lie in a triangle's circumcenter, the triangle is
removed and its edges torn to form three new triangles with the point.

![Three Triangles](/images/wv/3tri.png)

Given the point is placed in the circumcenter of two or more triangles, the
triangles are removed and overlapping aligning edges of the triangles are also removed.

![Two Triangles](/images/wv/2tri.png)

The remaining edges are unique and are used to construct new triangles with the point.

![Four Triangles](/images/wv/4tri.png)

Triangle edges are painted with the pixel color value at the center of the triangle.

The iteration continues until all points have been added to the mesh.

Give it a go. Here's a windows 10 build:
[weaver-1.3.zip](https://github.com/glouw/weaver/releases/download/weaver-1.3/weaver-1.3.zip).
Extract wholly and double click the .exe to get a quick demo.
To try an image yourself, open cmd.exe, cd into the extracted folder, and run:

```
weaver.exe image.png 32
```

The number signifies the threshold value [0 - 255]. Lower thresholds generate more triangles.
Time complexity is exponential since every mesh triangle must be checked before a
new point is added. Things really start to slow near the end of the weave.

If you are on Linux or MacOS it is probably easier just to build from source.

Use your package manager to install:
```
SDL2-devel
SDL2_image-devel
```
Then just clone and make the [code available here.](https://github.com/glouw/weaver)
