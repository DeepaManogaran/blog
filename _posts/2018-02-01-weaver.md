---
layout: post
---

I recently finished one of my side projects I call Weaver.

![The White Wolf](/images/geralt.png)

Weaver generates such images with a two fold algorithm: The intial phase
is heavy on the image procesing side. The image is blurred with a
gaussian convolution blur, grey scaled, and then sobel filtered.
A threshold is then applied to identify edges with a binary true or false.

The latter phase makes use of Delaunay Triangulation.
A point may freely be placed in a triangle mesh given that all triangles
do not contain the point within in their circumcenters. (Fortunately this will
never be the case as the window is engulfed with a super-triangle).
Given that the point does lie in a triangle's circumcenter, the triangle is
removed and its edges torn to form three new triangles with the point.

Given the point is placed in the circumcenter of two or more triangles, the
triangles are removed and overlapping alligning edges of the triangles are removed.
The remaining edges are then used to construct more than three new triangles with the point.
Triangle edges are painted with the pixel color value at the center of the triangle.

Give it a go. Here's a windows 10 build: [weaver-1.3.zip](https://github.com/glouw/weaver/releases/download/weaver-1.3/weaver-1.3.zip)

Extract wholly and double click the .exe to get a quick demo.

To try an image yourself, open cmd.exe, cd into the extracted folder, and run:

```
weaver.exe image.png 32
```

The number signifies the threshold value [0 - 255]. Lower threhsolds generate more triangles.
Time complexity is exponential since every mesh triangle must be checked before a
new point is added to the mesh. Things really start to slow near the end of the weave.

If you are on Linux or MacOS it is probably easier just to build from source.

Pull and make: [Code available here.](https://github.com/glouw/weaver)

You will need SDL2 and SDL2_Image dependencies but most package managers
have strong support for these packages.
