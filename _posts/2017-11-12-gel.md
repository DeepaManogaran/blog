---
layout: post
---

To understand something as complex as the graphics pipeline one must reinvent it with a basic toolset.
I picked the N64 graphics pipeline for this exercise. It is not as complicated as modern day pipelines,
but the combination of zbuffering, Gouraud shading, and texture mapping yields some pretty nice results:

![Donkey Kong](/images/dk.png)

This can be done in about 500 lines of C code. One just needs a 32 bit pointer to video memory,
a strong understanding of linear algebra, and plenty of patience.

# Software renderering like 1996

3D models are stored in wavefront object files. These object files contain a list of vertices and faces.
Faces are trigons composed of any three vertices.

Faces are pushed into a list. Faces are centered around (0, 0, 0) and translated to fit
the screen. A perspective view is established by dividing the x and y coordinate of each vertex with the
corrosponding z value using (1.0 - z).

Every face is drawm to the screen. A wireframe renderer will not suffice so the faces must be filled.

Faces are filled by wrapping a 2D rectangle around a trigon. For every pixel of the rectangle
the barycentric coordinates is calculated. If the x, y, and z coordinates of the barycentric
coordinate are all greater than zero then the point is within the trigon.

Faces in the
front may not overlap faces in the back so a Z-buffer keeps track of every pixel's distance from the viewport.

The viewport is your view through the window of the screen. The viewport may rotate around the image
