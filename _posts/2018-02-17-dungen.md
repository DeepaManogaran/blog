---
layout: post
---

There are many dungeon generation algorithms out there, but my favorite by
far is what Phi Dinh of Tiny Keep was able to do with Delaunay Triangulation
and minimum spanning trees:

    #############################################################
    ###########         #         #         #         ###########
    ##       ##         #         #         #         ###########
    ##       ##         #         #         #         #         #
    ##       ##         #         #         #         #         #
    ##                                                          #
    ##       ##         #         #         #         #         #
    ##       ##         #         #         #         #         #
    ##       ##         #         #         #         ##### #####
    ###########         #         #         #         ##### #####
    ############### ################### ################### #####
    ############### ###############         #         ##       ##
    #############     #############         #         ##       ##
    ###########         ###########         #         #         #
    ###########         ###########         #         #         #
    ###########         ###########                             #
    ###########         ###########         #         #         #
    ###########         ###########         #         #         #
    #############     #############         #         ##       ##
    ############### ###############         #         ##       ##
    ############### ############################# ######### #####
    ###     #####     ########################       ####     ###
    ###     #####     ####       #############       ###       ##
    ###     ###         ##       #############       ##         #
    ###     ###         ##       #############       ##         #
    ###                          #############                  #
    ###     ###         ##       #############       ##         #
    ###     ###         ##       #############       ##         #
    ###     #####     ####       #############       ###       ##
    ###     #####     ####### ################       ####     ###
    ##### ######### ######### ############################# #####
    #         #         ##### ######       ###       ####     ###
    #         #         ##       ###       ###       ####     ###
    #         #         ##       ###       ###       ####     ###
    #         #         ##       ###       ###       ####     ###
    #                   ##                                    ###
    #         #         ##       ###       ###       ####     ###
    #         #         ##       ###       ###       ####     ###
    #         #         ##       ###       ###       ####     ###
    #         #         ############       ###       ####     ###
    ##### #######################################################
    ##### ######       ###       ################################
    ##       ###       ###       ################################
    ##       ###       ###       ################################
    ##       ###       ###       ################################
    ##                           ################################
    ##       ###       ###       ################################
    ##       ###       ###       ################################
    ##       ###       ###       ################################
    ############       ###       ################################
    ############### ######### ###################################
    ############       ###       ##############     #############
    ############       ###       ##############     #####     ###
    ############       ###       ##############     ####       ##
    ############       ###       ##############     ####       ##
    ############       ###       ##############                ##
    ############       ###       ##############     ####       ##
    ############       ###       ##############     ####       ##
    ############       ###       ##############     #####     ###
    ############       ###       ##############     ####### #####
    ############### ######### ################### ######### #####
    #         ###     ####       ##############     ####### #####
    #         ##       ##         #         ###     ####       ##
    #         ##       ##         #         ##       ###       ##
    #         ##       ##         #         ##       ###       ##
    #                                       ##       ###       ##
    #         ##       ##         #         ##       ###       ##
    #         ##       ##         #         ##       ###       ##
    #         ##       ##         #         ###     ####       ##
    #         ###     ####       ###### #######     ####### #####
    ##### ############################# ######### ######### #####
    #         ######################### ######### #####         #
    #         #######################     #####     ###         #
    #         #######################     ####       ##         #
    #         #######################     ####       ##         #
    #         #######################                           #
    #         #######################     ####       ##         #
    #         #######################     ####       ##         #
    #         #######################     #####     ###         #
    #         #########################################         #
    ##### ################################################# #####
    ##### #####         ###     #####     #############         #
    #         #         ##       ####     #############         #
    #         #         ##       ####     #############         #
    #         #         ##       ####     #############         #
    #                                     #############         #
    #         #         ##       ####     #############         #
    #         #         ##       ####     #############         #
    #         #         ##       ####     #############         #
    ###########         ###     #####     #############         #
    ############### ######### ######### ################### #####
    ###########         ##### #####         #         ##### #####
    ###########         ##       ##         #         ##       ##
    ###########         ##       ##         #         ##       ##
    ###########         ##       ##         #         ##       ##
    ###########         ##       ##                            ##
    ###########         ##       ##         #         ##       ##
    ###########         ##       ##         #         ##       ##
    ###########         ##       ##         #         ##       ##
    ###########         ###########         #         ###########
    #############################################################

The minimum spanning tree is not perfect - you can see some circulation
in some of the rooms. This was one on purpose as infinite dead ends creates
nothing but frustration for a rogue player. Its implementation
uses Kruskal's Reverse Delete algorithm, only instead of removing an edge
and checking corresponding points for continuity along all possible points,
only the points of the removed edge are checked.

Once the spanning tree is generated, a room is placed at the points of each edge,
and the edge is used as step vector for placing the corridors.

[See my implementation here.](https://github.com/glouw/dungen)

It's MIT - Phi's brain child before all.

If you are further interested, check out [Andvaranaut](https://github.com/glouw/Andvaranaut) on github.
It uses this to generate 32 large connected rooms, and renders them so in a 2.5D Doom like first person fashion.

![Andvaranaut](/images/andvaranaut.png)
